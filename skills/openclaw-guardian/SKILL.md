# OpenClaw é…ç½®å®ˆæŠ¤æŠ€èƒ½

## æ¦‚è¿°

è‡ªåŠ¨ç›‘æ§ OpenClaw Gateway è¿›ç¨‹çŠ¶æ€ï¼Œåœ¨é…ç½®é”™è¯¯å¯¼è‡´æ— æ³•å¯åŠ¨æ—¶è‡ªåŠ¨æ¢å¤å¤‡ä»½çš„é…ç½®ã€‚

## ğŸ“š æ–‡æ¡£

- [README.md](README.md) - å¿«é€Ÿä½¿ç”¨æŒ‡å—
- [docs/README.md](docs/README.md) - è¯¦ç»†æ–‡æ¡£
- [CHANGELOG.md](CHANGELOG.md) - æ›´æ–°æ—¥å¿—

## ğŸ› ï¸ å®‰è£…é…ç½®ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

**é‡è¦**ï¼šé¦–æ¬¡ä½¿ç”¨å‰éœ€è¦é…ç½® OpenClaw è¿è¡Œç«¯å£ï¼š

```bash
# è¿›å…¥ skill ç›®å½•
cd skills/openclaw-guardian

# è¿è¡Œå®‰è£…é…ç½®ï¼ˆäº¤äº’å¼å¼•å¯¼ï¼‰
node scripts/setup.js
```

å®‰è£…ç¨‹åºä¼šè¦æ±‚æ‚¨è¾“å…¥ï¼š
- OpenClaw Gateway ç«¯å£ï¼ˆé»˜è®¤ 18789ï¼‰
- Gateway è¿›ç¨‹è·¯å¾„ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰
- æ£€æŸ¥é—´éš”æ—¶é—´ï¼ˆé»˜è®¤ 30 ç§’ï¼‰
- è¿ç»­å¤±è´¥é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤ 3 æ¬¡ï¼‰

é…ç½®å®Œæˆåä¼šä¿å­˜åˆ° `scripts/config.json`ï¼Œå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨æ—¶ä¼šè¯»å–æ­¤é…ç½®ã€‚

## åŠŸèƒ½

1. **è¿›ç¨‹ç›‘æ§** - æ¯ 30 ç§’æ£€æŸ¥ Gateway çŠ¶æ€
2. **è‡ªåŠ¨é‡å¯** - Gateway æ„å¤–é€€å‡ºæ—¶è‡ªåŠ¨å¯åŠ¨
3. **é…ç½®å¤‡ä»½** - ä¿®æ”¹é…ç½®å‰è‡ªåŠ¨å¤‡ä»½
4. **è‡ªåŠ¨æ¢å¤** - è¿ç»­å¯åŠ¨å¤±è´¥ > 3 æ¬¡æ—¶ï¼Œè‡ªåŠ¨æ¢å¤ä¸Šä¸€ä¸ªå¤‡ä»½çš„é…ç½®
5. **å¤‡ä»½æ¸…ç†** - åªä¿ç•™æœ€è¿‘ 5 ä¸ªå¤‡ä»½æ–‡ä»¶

## æ–‡ä»¶ç»“æ„

```
skills/openclaw-guardian/
â”œâ”€â”€ SKILL.md                    # æŠ€èƒ½è¯´æ˜
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ openclaw-guardian.js    # å®ˆæŠ¤è¿›ç¨‹ä¸»è„šæœ¬
â”‚   â”œâ”€â”€ config-manager.js       # é…ç½®ç®¡ç†è„šæœ¬
â”‚   â””â”€â”€ config-manager.bat      # Windows æ‰¹å¤„ç†ç‰ˆæœ¬
â””â”€â”€ docs/
    â””â”€â”€ README.md               # è¯¦ç»†æ–‡æ¡£
```

## ä½¿ç”¨æ–¹æ³•

### å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹

```bash
node scripts/openclaw-guardian.js
```

### é…ç½®ç®¡ç†

```bash
# å¤‡ä»½å½“å‰é…ç½®
node scripts/config-manager.js backup

# ä»æ–‡ä»¶æ›´æ–°é…ç½®ï¼ˆè‡ªåŠ¨å¤‡ä»½ï¼‰
node scripts/config-manager.js update <file.json>

# åº”ç”¨é…ç½®è¡¥ä¸ï¼ˆè‡ªåŠ¨å¤‡ä»½ï¼‰
node scripts/config-manager.js patch <patch.json>

# æ¢å¤æŒ‡å®šå¤‡ä»½
node scripts/config-manager.js restore <backup-file>
```

### å¤‡ä»½ä½ç½®

```
C:\Users\visio\.openclaw\backups\
```

## é…ç½®è¯´æ˜

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| checkInterval | 10000 | æ£€æŸ¥é—´éš”ï¼ˆæ¯«ç§’ï¼‰ |
| maxRetries | 3 | è¿ç»­å¤±è´¥æ¬¡æ•°é˜ˆå€¼ |
| backupDir | C:\Users\visio\.openclaw\backups | å¤‡ä»½ç›®å½• |

## å·¥ä½œæµç¨‹

```
1. å®ˆæŠ¤è¿›ç¨‹æ¯ 30 ç§’æ£€æŸ¥ Gateway çŠ¶æ€
2. å¦‚æœ Gateway æœªè¿è¡Œæˆ–æ— å“åº” â†’ å°è¯•å¯åŠ¨
3. å¦‚æœå¯åŠ¨å¤±è´¥ â†’ è¿ç»­å¤±è´¥è®¡æ•° +1
4. å¦‚æœè¿ç»­å¤±è´¥ > 3 æ¬¡ â†’ è‡ªåŠ¨æ¢å¤ä¸Šä¸€ä¸ªå¤‡ä»½çš„é…ç½®
5. ä½¿ç”¨æ¢å¤çš„é…ç½®é‡æ–°å¯åŠ¨
```

## æ³¨æ„äº‹é¡¹

1. **ä¿®æ”¹é…ç½®å‰å¤‡ä»½** - AI ä¿®æ”¹ openclaw.json å‰å¿…é¡»å…ˆè°ƒç”¨ `config-manager.js backup`
2. **å®ˆæŠ¤è¿›ç¨‹ä¼šè¯»å–é…ç½®** - å®ˆæŠ¤è¿›ç¨‹ä»é…ç½®æ–‡ä»¶è¯»å–ç«¯å£ç­‰å‚æ•°
3. **å¤‡ä»½ä¿ç•™** - åªä¿ç•™æœ€è¿‘ 5 ä¸ªå¤‡ä»½ï¼Œè‡ªåŠ¨æ¸…ç†æ—§å¤‡ä»½

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ‰‹åŠ¨æ¢å¤é…ç½®ï¼Ÿ

```bash
# æŸ¥çœ‹å¤‡ä»½åˆ—è¡¨
dir C:\Users\visio\.openclaw\backups\

# æ¢å¤æŒ‡å®šå¤‡ä»½
node scripts/config-manager.js restore "C:\Users\visio\.openclaw\backups\openclaw.json.bak.2026-02-13T02-22-20-180Z"
```

### Q: å¦‚ä½•æŸ¥çœ‹å®ˆæŠ¤è¿›ç¨‹æ—¥å¿—ï¼Ÿ

```bash
type scripts\guardian-log.txt
```

### Q: å¦‚ä½•åœæ­¢å®ˆæŠ¤è¿›ç¨‹ï¼Ÿ

```bash
taskkill /F /IM node.exe /FI "WINDOWTITLE eq *openclaw-guardian*"
```

## ç‰ˆæœ¬

- **v1.1 (2026-02-16)** - é‡å¤§æ›´æ–°
  - ä¿®å¤ç«¯å£æ£€æµ‹é—®é¢˜ï¼ˆæ”¹ç”¨ netstat è·å– PIDï¼‰
  - æ·»åŠ äº¤äº’å¼å®‰è£…é…ç½®æµç¨‹ï¼ˆsetup.jsï¼‰
  - å¯åŠ¨å‰è‡ªåŠ¨æ£€æŸ¥é…ç½®æ–‡ä»¶
  - æ”¹è¿›å¥åº·æ£€æŸ¥é€»è¾‘ï¼ˆå¤šæ¬¡é‡è¯•ï¼‰
  - é¿å…è¯¯åˆ¤å¯¼è‡´çš„é¢‘ç¹é‡å¯

- v1.0 (2026-02-13) - åˆå§‹ç‰ˆæœ¬

## å‘å¸ƒæ›´æ–°

å½“ skill æœ‰æ›´æ–°æ—¶ï¼Œè¿è¡Œï¼š

```bash
scripts\publish-skill.bat openclaw-guardian
```

è¿™ä¼šè‡ªåŠ¨æäº¤æ›´æ”¹å¹¶æ¨é€åˆ° GitHub ä»“åº“ã€‚
